import{S as R,i as G,s as K,n as H,d as y,r as Q,p as q,b as M,c as a,q as B,u as W,m as n,e as d,f as L,o as D,h as k,j as f,k as E,a as X,g as Y,t as Z}from"../chunks/Euv9bMr_.js";import"../chunks/IHki7fMi.js";import{a as $}from"../chunks/DK1tR62X.js";import{g as tt}from"../chunks/NQmCZVoA.js";function J(u){let e,s;return{c(){e=f("p"),s=Z(u[2]),this.h()},l(t){e=d(t,"P",{class:!0});var o=L(e);s=Y(o,u[2]),o.forEach(y),this.h()},h(){n(e,"class","text-sm text-red-600")},m(t,o){M(t,e,o),a(e,s)},p(t,o){o&4&&X(s,t[2])},d(t){t&&y(e)}}}function et(u){let e,s,t,o="Login",x,l,h,m,g="Username",T,p,N,C,v,A="Password",O,c,S,I,_,z="Login",V,F,r=u[2]&&J(u);return{c(){e=f("div"),s=f("div"),t=f("h1"),t.textContent=o,x=E(),l=f("form"),h=f("div"),m=f("label"),m.textContent=g,T=E(),p=f("input"),N=E(),C=f("div"),v=f("label"),v.textContent=A,O=E(),c=f("input"),S=E(),r&&r.c(),I=E(),_=f("button"),_.textContent=z,this.h()},l(i){e=d(i,"DIV",{class:!0});var b=L(e);s=d(b,"DIV",{class:!0});var P=L(s);t=d(P,"H1",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-16fcape"&&(t.textContent=o),x=k(P),l=d(P,"FORM",{class:!0});var w=L(l);h=d(w,"DIV",{});var U=L(h);m=d(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(m)!=="svelte-8yf409"&&(m.textContent=g),T=k(U),p=d(U,"INPUT",{type:!0,id:!0,class:!0}),U.forEach(y),N=k(w),C=d(w,"DIV",{});var j=L(C);v=d(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),D(v)!=="svelte-1ck1rtt"&&(v.textContent=A),O=k(j),c=d(j,"INPUT",{type:!0,id:!0,class:!0}),j.forEach(y),S=k(w),r&&r.l(w),I=k(w),_=d(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),D(_)!=="svelte-zittyw"&&(_.textContent=z),w.forEach(y),P.forEach(y),b.forEach(y),this.h()},h(){n(t,"class","text-2xl font-bold text-center"),n(m,"for","username"),n(m,"class","block text-sm font-medium"),n(p,"type","text"),n(p,"id","username"),n(p,"class","w-full px-3 py-2 mt-1 border rounded-md"),p.required=!0,n(v,"for","password"),n(v,"class","block text-sm font-medium"),n(c,"type","password"),n(c,"id","password"),n(c,"class","w-full px-3 py-2 mt-1 border rounded-md"),c.required=!0,n(_,"type","submit"),n(_,"class","w-full px-4 py-2 font-bold text-white bg-blue-600 rounded-md hover:bg-blue-700"),n(l,"class","space-y-6"),n(s,"class","w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md"),n(e,"class","flex items-center justify-center h-screen")},m(i,b){M(i,e,b),a(e,s),a(s,t),a(s,x),a(s,l),a(l,h),a(h,m),a(h,T),a(h,p),q(p,u[0]),a(l,N),a(l,C),a(C,v),a(C,O),a(C,c),q(c,u[1]),a(l,S),r&&r.m(l,null),a(l,I),a(l,_),V||(F=[B(p,"input",u[4]),B(c,"input",u[5]),B(l,"submit",W(u[3]))],V=!0)},p(i,[b]){b&1&&p.value!==i[0]&&q(p,i[0]),b&2&&c.value!==i[1]&&q(c,i[1]),i[2]?r?r.p(i,b):(r=J(i),r.c(),r.m(l,I)):r&&(r.d(1),r=null)},i:H,o:H,d(i){i&&y(e),r&&r.d(),V=!1,Q(F)}}}function st(u,e,s){let t="",o="",x="";async function l(){s(2,x="");try{const g=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:o})});if(!g.ok)throw new Error("Username atau password salah");const T=await g.json();$.set(T.token),await tt("/")}catch(g){s(2,x=g.message)}}function h(){t=this.value,s(0,t)}function m(){o=this.value,s(1,o)}return[t,o,x,l,h,m]}class ot extends R{constructor(e){super(),G(this,e,st,et,K,{})}}export{ot as component};
